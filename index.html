<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        p.username {
            font-size: 1.5rem;
        }

    </style>
</head>

<body>
    <h1>Students</h1>
    <div id="students">

    </div>
    <br>
    <h1>Teachers</h1>
    <div id="teachers">

    </div>
</body>
<script>

let studentsURL = 'http://localhost:8000/api/students'
let teachersURL = 'http://localhost:8000/api/teachers'

function fetchStudentData () {
    fetch(studentsURL)
    .then((res) => res.json())
    .then((data) => displayStudents(data))
}

function displayStudents (data) {
    let output = document.querySelector('#students').innerHTML;
    data.forEach((student) => {
        document.querySelector('#students').innerHTML += `<p class="username">username: ${student.user.username}</p>`
        console.log(student.user.username)
    }
    )
    console.log(output)
}

function fetchTeacherData () {
    fetch(teachersURL)
    .then((res) => res.json())
    .then((data) => displayTeachers(data))
}

function displayTeachers (data) {
    data.forEach((teacher) => {
        document.querySelector('#teachers').innerHTML += `<p class="username">username: ${teacher.user.username}</p>`
    })
}

fetchStudentData();
fetchTeacherData();

</script>
</html>